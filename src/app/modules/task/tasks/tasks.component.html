<app-page-header
  iconClass="bi-clipboard2-data-fill" title="Tarefas" description="Página de gerenciamento das tarefas"
  [showButton]="true" textButton="Novo" (buttonEvent)="onButtonClick()"
></app-page-header>

<accordion id="accordion-filter" [isAnimated]="true" class="pt-3 border-0">
  <accordion-group heading="Filtros" [isOpen]="true">
    <form>
      <div class="row g-3 align-items-center">
        <div class="col">
          <label for="conclusion" class="col-form-label">Data de Conclusão</label>
          <input type="text"
                 id="conclusion"
                 placeholder=""
                 class="form-control"
                 bsDaterangepicker
                 [bsConfig]="{ isAnimated: true }"
                 (bsValueChange)="onDateChange($event)">
        </div>

        <div class="col">
          <label for="status" class="col-form-label">Status</label>
          <select class="form-select" aria-label="Default select example" id="status" (change)="changeStatusOption($event)">
            <option selected="selected" value="">Todos</option>
            <option value="false">Concluido</option>
            <option value="true">Em aberto</option>
          </select>
        </div>

        <div class="col">
          <label for="list" class="col-form-label">Lista</label>
          <select class="form-select" aria-label="Default select example" id="list" (change)="changeListOption($event)">
            <option selected="selected" value=""></option>
            <option *ngFor="let list of listNames" value="{{list.id}}">{{list.name}}</option>
          </select>
        </div>

        <div class="col">
          <label for="sort" class="col-form-label">Ordernar Por</label>
          <select class="form-select" aria-label="Default select example" id="sort">
            <option selected>Open this select menu</option>
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
          </select>
        </div>

        <div class="col-sm-12">
          <button class="btn btn-primary" type="button" (click)="onSearch()">Buscar</button>
          <button class="btn btn-danger ms-2" type="reset" (click)="onReset()">Limpar</button>
        </div>
      </div>
    </form>
  </accordion-group>
</accordion>

<div class="row row-gap-3 mt-3">
  <div class="col-xs-1 col-sm-1 col-md-4 pt-4" *ngFor="let item of items">
   <app-card-task [task]="item"
                  (onConcludeEvent)="onConclude($event)"
                  (onEditEvent)="onEdit($event)"
                  (onDeleteEvent)="onDelete($event)">
   </app-card-task>
  </div>

  <div class="col-12 pt-5 d-flex justify-content-center">
    <button class="btn btn-primary btn-lg px-5 btn-load-more" [disabled]="!hasMorePages()" (click)="loadMore()">
      Carregar mais
    </button>
  </div>
</div>
