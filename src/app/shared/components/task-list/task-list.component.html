<ul class="list-group">

  <task-item-form></task-item-form>

  <li class="list-group-item d-flex align-items-center my-1 py-2 task-item" *ngFor="let item of items">
    <div class="flex-shrink-1 me-3">
      <input class="form-check-input" type="checkbox" [checked]="item.concluded" id="firstCheckboxStretched">
    </div>
    <div class="flex-grow-1 d-flex flex-column align-items-start">
      {{item.description}}
      <i class="bi bi-calendar3" *ngIf="item.deadline"></i>
    </div>
    <div class="flex-shrink-1">
      <ng-container *ngTemplateOutlet="dropdown; context:{task: item}"></ng-container>
    </div>
  </li>
</ul>


<ng-template #dropdown let-task="task">
  <div class="btn-group" dropdown placement="bottom right">
    <button id="task-options" dropdownToggle type="button" class="btn btn-primary dropdown-toggle"
            aria-controls="dropdown-basic">
      <span class="bi bi-three-dots-vertical"></span>
    </button>
    <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu dropdown-menu-right"
        role="menu" aria-labelledby="button-basic">
      <li role="menuitem">
        <a class="dropdown-item" (click)="onConclude(task)">
          <i class="bi bi-check-circle me-2"></i>
          Concluir
        </a>
      </li>
      <li role="menuitem">
        <a class="dropdown-item" (click)="onEdit(task)">
          <i class="bi bi-pencil-fill me-2"></i>
          Editar
        </a>
      </li>
      <li role="menuitem">
        <a class="dropdown-item" (click)="onDelete(task)">
          <i class="bi bi-trash3 me-2"></i>
          Remover
        </a>
      </li>
    </ul>
  </div>
</ng-template>

